name = "java8"
java-class-id-prefix = java Java8
file-extension = "jav"

sdf3 {}
esv {}
statix {
  source = files {
    sdf3-statix-signature-generation = true
  }
}
stratego {
  source = files {
    sdf3-statix-explication-generation = true
  }
}

parser {
  default-start-symbol = sort Start
}
styler {}
constraint-analyzer {
  multi-file = true
  statix-solver-mode = concurrent
}
stratego-runtime {
  with-primitive-library = java mb.statix.referenceretention.stratego.RRPrimitiveLibrary
  with-interop-registerer = java mb.statix.referenceretention.stratego.InteropRegisterer
  base-StrategoRuntimeBuilderFactory = java mb.java8.Java8BaseStrategoRuntimeBuilderFactory
  extend-StrategoRuntimeBuilderFactory {
    name = java mb.java8.Java8StrategoRuntimeBuilderFactory
    arguments = [
      java mb.tego.strategies.runtime.TegoRuntime,
      java mb.nabl2.terms.stratego.StrategoTerms
    ]
  }
}
reference-resolution {
  variant = stratego {
    strategy = strategy editor-resolve
  }
}
hover {
  variant = stratego {
    strategy = strategy editor-hover
  }
}
tego-runtime { }
reference-retention { }
build-dependencies [
  org.metaborg:strategolib:*
  org.metaborg:gpp:*
  org.metaborg:libspoofax2:*
  org.metaborg:libstatix:*
  // org.metaborg:statix.referenceretention:*
]
