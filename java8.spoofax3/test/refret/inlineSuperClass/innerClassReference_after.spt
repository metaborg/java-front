module refret/inlineSuperClass/innerClassReference_after

test parse: innerClassReference_after [[
  test;
  [Test]
      class Test {
       public void contextChild() {
          StInner inner1 = new StInner();
          Test.InstInner inner2 = this.new InstInner();
       }
  
        void foo() {
           StInner inner1 = new StInner();
           Test.InstInner inner2 = this.new InstInner();
        }
  
        public static class StInner {}
  
        public class InstInner {}
    }
]] parse succeeds

test analysis: innerClassReference_after [[
  test;
  [Test]
      class Test {
       public void contextChild() {
          StInner inner1 = new StInner();
          Test.InstInner inner2 = this.new InstInner();
       }
  
        void foo() {
           StInner inner1 = new StInner();
           Test.InstInner inner2 = this.new InstInner();
        }
  
        public static class StInner {}
  
        public class InstInner {}
    }
]] run test-analyze to SUCCEED()

test refret 0: innerClassReference_after [[
  test;
  [Test]
      class Test {
       public void contextChild() {
          [[StInner]] inner1 = new StInner();
          Test.InstInner inner2 = this.new InstInner();
       }
  
        void foo() {
           StInner inner1 = new StInner();
           Test.InstInner inner2 = this.new InstInner();
        }
  
        public static class [[StInner]] {}
  
        public class InstInner {}
    }
]] run fix-reference(|#1, #2) to [[
  test;
  [Test]
      class Test {
       public void contextChild() {
          StInner inner1 = new StInner();
          Test.InstInner inner2 = this.new InstInner();
       }
  
        void foo() {
           StInner inner1 = new StInner();
           Test.InstInner inner2 = this.new InstInner();
        }
  
        public static class StInner {}
  
        public class InstInner {}
    }
]]

test refret 1: innerClassReference_after [[
  test;
  [Test]
      class Test {
       public void contextChild() {
          StInner inner1 = new StInner();
          [[InstInner]] inner2 = this.new InstInner();
       }
  
        void foo() {
           StInner inner1 = new StInner();
           Test.InstInner inner2 = this.new InstInner();
        }
  
        public static class StInner {}
  
        public class [[InstInner]] {}
    }
]] run fix-reference(|#1, #2) to [[
  test;
  [Test]
      class Test {
       public void contextChild() {
          StInner inner1 = new StInner();
          Test.InstInner inner2 = this.new InstInner();
       }
  
        void foo() {
           StInner inner1 = new StInner();
           Test.InstInner inner2 = this.new InstInner();
        }
  
        public static class StInner {}
  
        public class InstInner {}
    }
]]

