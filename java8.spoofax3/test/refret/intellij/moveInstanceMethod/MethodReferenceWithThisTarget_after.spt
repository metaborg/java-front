module refret/intellij/moveInstanceMethod/MethodReferenceWithThisTarget_after

test parse: MethodReferenceWithThisTarget_after [[
  test;
  [Test]
      import java.util.function.Consumer;
  
    class Source {
    }
  
    class Destination {
      public void doSomething(String s) {
      }
  
        public void foo() {
          Consumer<String> doSomething = this::doSomething;
        }
    }
]] parse succeeds

test analysis: MethodReferenceWithThisTarget_after [[
  test;
  [Test]
      import java.util.function.Consumer;
  
    class Source {
    }
  
    class Destination {
      public void doSomething(String s) {
      }
  
        public void foo() {
          Consumer<String> doSomething = this::doSomething;
        }
    }
]] run test-analyze to SUCCEED()

test refret 0: MethodReferenceWithThisTarget_after [[
  test;
  [Test]
      import java.util.function.Consumer;
  
    class Source {
    }
  
    class Destination {
      public void [[doSomething]](String s) {
      }
  
        public void foo() {
          Consumer<String> doSomething = [[doSomething]];
        }
    }
]] run fix-reference(|#2, #1) to [[
  test;
  [Test]
      import java.util.function.Consumer;
  
    class Source {
    }
  
    class Destination {
      public void doSomething(String s) {
      }
  
        public void foo() {
          Consumer<String> doSomething = this::doSomething;
        }
    }
]]

