module refret/intellij/MoveMembers/test41

test x [[
test;

[p] {
[A]
package p;

public class A{
    public A() {
        [[m]]();
        [[f]] = [[A.f]];
    }

    public static void [[m]]() {
        [[m]]();
        [[m]]();
        [[f]] = [[f]];
    }

    public static int [[f]];
}
}

[p] {
[B]
package p;
class B{
}
}
]] parse succeeds

test x [[
test;

[p] {
[A]
package p;

public class A{
    public A() {
        [[m]]();
        [[f]] = [[A.f]];
    }

    public static void [[m]]() {
        [[m]]();
        [[m]]();
        [[f]] = [[f]];
    }

    public static int [[f]];
}
}

[p] {
[B]
package p;
class B{
}
}
]] analysis succeeds

test org.eclipse.jdt.ui.tests.refactoring/MoveMembers/test41 [[
test;

[p] {
[A]
package p;

public class A{
    public A() {
        [[m]]();
        [[f]] = [[A.f]];
    }

    public static void [[m]]() {
        [[m]]();
        [[m]]();
        [[f]] = [[f]];
    }

    public static int [[f]];
}
}

[p] {
[B]
package p;
class B{
}
}
]]
run fix-reference(|#5, #4) to [[
test;

[p] {
[A]
package p;

public class A{
    public A() {
        m();
        f = A.f;
    }

    public static void m() {
        m();
        m();
        f = f;
    }

    public static int f;
}
}

[p] {
[B]
package p;
class B{
}
}
]]

