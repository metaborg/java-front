module refret/intellij/analysis/inlineMethod/AndChain

test AndChain: default analysis [[
  test;
  [MyQueue]
      import java.util.NoSuchElementException;
  
    public class MyQueue {
      private long[] items = new long[16];
  
      private int head;
      private int tail;
  
      public boolean isEmpty() { return head == tail; }
  
        // true if the first element of the queue is greater than specified number
      public boolean firstIsGreaterThan(int x) {
          if (isEmpty()) return false;
          if (isEmpty())
            throw new NoSuchElementException("Queue is empty");
          return items[ head ] > x;
      }
  
      // other methods
    }
]] analysis succeeds

test AndChain: test analysis [[
  test;
  [MyQueue]
      import java.util.NoSuchElementException;
  
    public class MyQueue {
      private long[] items = new long[16];
  
      private int head;
      private int tail;
  
      public boolean isEmpty() { return head == tail; }
  
        // true if the first element of the queue is greater than specified number
      public boolean firstIsGreaterThan(int x) {
          if (isEmpty()) return false;
          if (isEmpty())
            throw new NoSuchElementException("Queue is empty");
          return items[ head ] > x;
      }
  
      // other methods
    }
]] run test-analyze to SUCCEED()

