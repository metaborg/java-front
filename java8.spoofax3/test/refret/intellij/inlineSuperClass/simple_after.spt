module refret/intellij/inlineSuperClass/simple_after

test parse: simple_after [[
  test;
  [Usage]
      import p.Test;
  
    class Usage {
      void bar(Test s) {
        s.foo();
      }
    }
  [p] {
  [Test]
      package p;
  
    public class Test {
        public void foo() {
          System.out.println("Hello");
        }
    }
  }
]] parse succeeds

test analysis 1: simple_after [[
  test;
  [Usage]
      import p.Test;
  
    class Usage {
      void bar(Test s) {
        s.foo();
      }
    }
  [p] {
  [Test]
      package p;
  
    public class Test {
        public void foo() {
          System.out.println("Hello");
        }
    }
  }
]] analysis succeeds

test analysis 2: simple_after [[
  test;
  [Usage]
      import p.Test;
  
    class Usage {
      void bar(Test s) {
        s.foo();
      }
    }
  [p] {
  [Test]
      package p;
  
    public class Test {
        public void foo() {
          System.out.println("Hello");
        }
    }
  }
]] run test-analyze to SUCCEED()

test refret 0: simple_after [[
  test;
  [Usage]
      import p.Test;
  
    class Usage {
      void bar(Test [[s]]) {
        [[foo]]();
      }
    }
  [p] {
  [Test]
      package p;
  
    public class Test {
        public void [[foo]]() {
          System.out.println("Hello");
        }
    }
  }
]] run fix-reference(|#2, #3, #1) to [[
  test;
  [Usage]
      import p.Test;
  
    class Usage {
      void bar(Test s) {
        s.foo();
      }
    }
  [p] {
  [Test]
      package p;
  
    public class Test {
        public void foo() {
          System.out.println("Hello");
        }
    }
  }
]]

