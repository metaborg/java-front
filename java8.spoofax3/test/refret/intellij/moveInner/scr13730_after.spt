module refret/intellij/moveInner/scr13730_after

test parse: scr13730_after [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]] parse succeeds

test analysis: scr13730_after [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]] run test-analyze to SUCCEED()

test refret 0: scr13730_after [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            [[StaticInner]] staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class [[StaticInner]] {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]] run fix-reference(|#1, #2) to [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]]

test refret 1: scr13730_after [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new [[StaticInner]]();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public [[StaticInner]]() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]] run fix-reference(|#1, #2) to [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]]

test refret 2: scr13730_after [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            [[NonStaticInnerInner]] nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class [[NonStaticInnerInner]] {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]] run fix-reference(|#1, #2) to [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]]

test refret 3: scr13730_after [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new [[NonStaticInnerInner]]("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public [[NonStaticInnerInner]](String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]] run fix-reference(|#1, #2) to [[
  test;
  [pack1] {
  [TopLevel]
      package pack1;
  
    public class TopLevel {
    }
  [Client]
      package pack1;
  
    public class Client {
        public static void main(String[] args) {
            StaticInner staticInner = new StaticInner();
  
            StaticInner.NonStaticInnerInner nonStaticInnerInner
                = staticInner.new NonStaticInnerInner("Joe");
  
            System.out.println(nonStaticInnerInner.toString());
        }
    }
  [StaticInner]
      package pack1;
  
    public class StaticInner {
        public StaticInner() {}
        public class NonStaticInnerInner {
            private String name;
  
            public NonStaticInnerInner(String name) {
                this.name = name;
            }
  
            public String toString() {
                return name;
            }
        }
    }
  
  }
]]

